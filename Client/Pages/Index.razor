@page "/"
@page "/{categoryUrl}"

@inject IProductService ProductService


<PageTitle>New</PageTitle>

<h1 class="category-title">New</h1>

<div class="category-text">
<p>These are the newest designs added to my shop.</p>
<br />
</div>

<div class="filter-dropdowns">

    <div class="dropdown">
        <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown">
            Size
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">XXS</a></li>
            <li><a class="dropdown-item" href="#">XS</a></li>
            <li><a class="dropdown-item" href="#">S</a></li>
            <li><a class="dropdown-item" href="#">M</a></li>
            <li><a class="dropdown-item" href="#">L</a></li>
            <li><a class="dropdown-item" href="#">XXL</a></li>          
        </ul>
    </div>

    <div class="dropdown">
        <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown">
            Type
        </button>
        <ul class="dropdown-menu">
            <li><a class="dropdown-item" href="#">Shirts</a></li>
            <li><a class="dropdown-item" href="#">Bags</a></li>
            <li><a class="dropdown-item" href="#">Sweaters</a></li>
            <li><a class="dropdown-item" href="#">Pants</a></li>
            <li><a class="dropdown-item" href="#">Shoes</a></li>
        </ul>
    </div>
 
    <div class="dropdown">
        <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown">
            Sort By
        </button>
        <ul class="dropdown-menu">
            <li><h5 class="dropdown-header">Price</h5></li>
            <li><a class="dropdown-item" href="#">Low to High</a></li>
            <li><a class="dropdown-item" href="#">High to Low</a></li>
            <li><h5 class="dropdown-header">Size</h5></li>
            <li><a class="dropdown-item" href="#">Smallest to Largest</a></li>
            <li><a class="dropdown-item" href="#">Largest to Smallest</a></li>
        </ul>
    </div>
</div>


<div class="product-grid">
    @foreach (var product in ProductService.Products)
    {
        <div class="product-tile">
            <a href="product">
                <div class="product-img-wrapper">
                    <img class="product-img" src="@product.Images[0].Url" />
                </div>
            </a>
            <div class="product-name p-2">
                @product.Title
            </div>
            <div class="product-price p-2">
                @product.Price
            </div>
        </div>
    }    
</div>

@code {
    [Parameter]
    public string? CategoryUrl { get; set; } = null;

    protected override async Task OnInitializedAsync()
    {
        await ProductService.GetProducts();
    }
}